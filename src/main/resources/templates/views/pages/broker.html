<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head th:replace="views/fragments/templates :: head"></head>
<body>

<div th:replace="views/fragments/templates :: header"></div>
<div class="container-fluid">
    <div class="row">
        <div th:replace="views/fragments/menu :: menu"></div>
        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 main-content min-vh-100">
            <div th:replace="views/fragments/templates :: title"></div>
            <div class="row">

            </div>
            <div class="row">
                <ul class="nav nav-tabs" id="profileTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="overview-tab" data-bs-toggle="tab"
                                data-bs-target="#overview" type="button" role="tab"
                                aria-controls="overview" aria-selected="true">
                            Configurations
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="projects-tab" data-bs-toggle="tab"
                                data-bs-target="#projects" type="button" role="tab"
                                aria-controls="projects" aria-selected="false">
                            Logs
                        </button>
                    </li>
                </ul>

                <div class="tab-content border border-top-0 p-3" id="profileTabsContent">
                    <div class="tab-pane fade show active" id="overview" role="tabpanel" aria-labelledby="overview-tab" tabindex="0">
                        <table class="table">
                            <thead>
                            <tr>
                                <th scope="col">Name</th>
                                <th scope="col">Value</th>
                                <th scope="col">Type</th>
                                <th scope="col">Source</th>
                                <th scope="col">Sensitive</th>
                                <th scope="col">ReadOnly</th>
                            </tr>
                            </thead>
                            <tbody id="brokerConfig">
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane fade" id="projects" role="tabpanel" aria-labelledby="projects-tab" tabindex="0">

                    </div>
                    <div class="tab-pane fade" id="settings" role="tabpanel" aria-labelledby="settings-tab" tabindex="0">

                    </div>
                </div>
            </div>
        </main>
    </div>
</div>


<div th:replace="views/fragments/templates :: scripts"></div>
<script>
$(document).ready(function(){
    get('broker', { id: "1" } , function(response){
        console.log(response);
        renderViewHtml($("#brokerConfig"),'<tr><th scope="row">${name}</th><td>${value}</td><td>${type}</td><td>${source}</td><td>${sensitive}</td><td>${readOnly}</td></tr>',response.config);
    });
});

</script>
</body>
</html>
